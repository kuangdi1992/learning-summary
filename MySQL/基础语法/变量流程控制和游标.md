# 变量

在MySQL数据库的存储过程和函数中，可以使用变量来存储查询或计算的中间结果数据，或者输出最终的结果数据。
在MySQL数据库中，变量分为**系统变量**以及**用户自定义变量** 。

## 系统变量

### 系统变量分类

变量由系统定义，不是用户定义，属于**服务器**层面。

启动MySQL服务，生成MySQL服务实例期间， MySQL将为MySQL服务器内存中的系统变量赋值，这些系统变量定义了当前MySQL服务实例的属性、特征。

这些系统变量的值要么是**编译MySQL时参数**的默认值，要么是**配置文件**（例如my.ini等）中的参数值。大家可以通过网址 https://dev.mysql.com/doc/refman/8.0/en/server-systemvariables.html 查看MySQL文档的系统变量

系统变量分为**全局系统变量（需要添加 global 关键字）**以及**会话系统变量（需要添加 session 关键 字）**，有时也把全局系统变量简称为全局变量，有时也把会话系统变量称为local变量。如果不写，**默认会话级别**。静态变量（在 MySQL 服务实例运行期间它们的值不能使用 set 动态修改）属于特殊的全局系统变量。

**每一个MySQL客户机成功连接MySQL服务器后，都会产生与之对应的会话。**会话期间，MySQL服务实例 会在MySQL服务器内存中生成与该会话对应的会话系统变量，这些会话系统变量的初始值是全局系统变 量值的复制

![image-20230314212020323](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20230314212020323.png)

- 全局系统变量针对所有会话（连接）有效，但不能跨重启。
- 会话系统变量仅针对当前会话有效，会话期间，当前会话对某个会话系统变量值的修改，不会影响其他会话同一个会话系统变量的值。
- 会话1对某个全局系统变量值的修改，会导致会话2中同一个全局系统变量值的修改。

在MySQL中有些系统变量只能是全局的，例如 max_connections 用于限制服务器的最大连接数；

有些系统变量作用域既可以是全局又可以是会话，例如 character_set_client 用于设置客户端的字符集；

有些系统变量的作用域只能是当前会话，例如 pseudo_thread_id 用于标记当前会话的 MySQL 连接 ID。 


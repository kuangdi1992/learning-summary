### 数据处理函数（单行处理函数）

#### Lower转换小写

```
用法：select lower(ename) from EMP;
```

![image-20210829202932103](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829202932103.png)

#### upper转换大写

```
用法：select upper(ename) from EMP;
```

![image-20210829203042089](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829203042089.png)

#### substr取子串

```
用法：substr(被截取的字符串，起始下标，截取的长度)

​			起始下标从1开始，没有0；

​			select  substr(ename,1,1) from EMP;
```

![image-20210829203710473](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829203710473.png)

#### length取长度

```
用法：select length(ename) from EMP;
```

![image-20210829204118274](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829204118274.png)

#### concat函数字符串拼接

```
用法：select concat(empno,ename) from EMP;
```

![image-20210829203845305](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829203845305.png)

#### trim去空格

```
用法：select  * from EMP where ename = trim('      KING');
```

![image-20210829204445617](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829204445617.png)

#### str_to_date字符串转换成日期

#### date_format格式化日期

#### format设置千分位

#### case..when..then..when..then..else..end函数

示例：当员工的工作岗位是MANGER的时候，工资上调10%，当员工的工作岗位是SALESMAN的时候，工资上调50%,其他正常。

```
select ename,job,sal,(case job when 'MANAGER' then sal * 1.1 when 'SALESMAN' then sal*1.5 else sal end) as newsal from EMP;
```

![image-20210829211823791](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829211823791.png)

#### round四舍五入

select后可以直接跟“字面量/字面值”

```
用法：select round(1233,456,0) as result from EMP;
```

![image-20210829205435970](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829205435970.png)

round(1233.456,0)中的0表示四舍五入到个位

round(1233.456,1)中的1表示四舍五入到小数点后一位，即保留1位小数

round(1233.456,-1)中的-1表示四舍五入到十位

![image-20210829205912604](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829205912604.png)

#### rand()生成随机数

```
用法：select rand() from EMP；
```

![image-20210829210022908](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829210022908.png)

100以内的随机数：

```
select round(rand()*100,0) from EMP;
```

![image-20210829210134986](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829210134986.png)

#### ifnull 将null转换成一个具体值

空处理函数，数据库中只要有NULL参与的数学运算，最终结果就是NULL。

用法：ifnull（数据，被当做哪个值）——如果数据是NULL，把数据当做哪个值。

```
select  ename,(sal + ifnull(comm,0)) * 12 as yearsal from EMP;
```

![image-20210829211042779](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20210829211042779.png)

表示当补助为NULL时，将补助当做0
## IP首部  ##
普通的IP首部长度为20字节。首部长度指的是首部占32bit字的数目，包括任何选项。由于它是一个4比特字段，因此首部最长为60个字节。  
总长度字段是指整个IP数据报的长度，以字节为单位。利用首部长度字段和总长度字段，就可以知道IP数据报中数据内容的起始位置和长度。  
TTL生存时间字段设置了数据报可以经过的最多路由器数。它指定了数据报的生存时间。TTL的初始值由源主机设置（通常为32或64），一旦经过一个处理它的路由器，它的值就减去1.当该字段的值为0时，数据报就被丢弃了，并发送ICMP报文通知源主机。  
## 子网寻址 ##
所有主机都支持子网寻址，这是将主机号在划分成一个子网号和主机号。这样做是A类地址和B类地址为主机分配了太多的空间，在现实中，可能不需要那么多的空间来支持。  
A类 | 0 |网络号（7位）|主机号（24位）|其他 | 其他
---|---|---|---|---|---
B类 | 1 | 0| 网络号（14位）|主机号（16位）
C类 | 1 | 1 | 0 | 网络号（21位）| 主机号（8位）
D类 |1 | 1| 1| 0 | 多播组号（28位）
E类 | 1 | 1 | 1 | 1 | 0 （留待后用（27位））

### IP地址的指派范围 ###
网络类别 | 最大可指派的网络数 | 第一个可指派的网络号 | 最后一个可指派的网络号 | 每个网络中的最大主机数
---|---|---|---|---
A | 126（2<sup>7</sup>-2）|1 | 126| 16777214
B | 16383（2<sup>14</sup>-1）| 128.1|191.255|65534
C | 2097151(2<sup>21</sup>-1)|192.0.1|223.255.255|254

## 子网掩码 ##
作用：来确定有多少位的主机段用于子网号和主机号。  
在给定IP地址和子网掩码后，主机可以确定IP数据报的目的是：
>* 本子网上的主机
>* 本网络中其他子网的主机
>* 其他网络的主机

### ifconfig ###
ifconfig是对网络接口进行配置和查询的命令。ifconfig命令一般在引导时运行，以配置主机上的每个接口。

### netstat ###
netstat主要用于提供系统的接口命令。可以使用相关参数打印出每一个接口的MTU、输入分组数、输入错误、冲突以及当前的输出队列长度。
#### 分组转发算法 ####
>* 从数据报文中取出目的地址D，然后得到其网络地址N
>* 如果N就是与路由器直接相连的网络地址，那么就直接交付，不需要任何主机，如果不是，那么执行下一个
>* 如果路由表中有到达特定D的主机路由，那么就把数据报交给所指明的下一跳路由
>* 如果路由表有到达网络N的路由，那么就把数据报交给所指明的下一跳路由
>* 如果路由表中有一个默认的路由，那么就直接交给指明的下一跳路由
>* 报告分组出错

#### 无分类编址CDIR ####
CDIR的两个特点：
>* 消除了传统的A类、B类、C类地址以及子网的划分，将IP地址由三级分类重新分为两级
>* 将网络前缀相同的连续的IP地址组成一个CDIR地址块  
使用CDIR时，形成了超网，即地址聚合，在路由查找下一跳时候，采用最长匹配

#### ICMP ####
ICMP主要分为两种，ICMP差错报告报文和ICMP询问报文
ICMP差错报文有四种：  
1.终点不可达  
2.时间超过  
3.参数问题  
4.改变路由  
ICMP询问报文：  
1.回送请求和回答：用于是否可达以及了解相应状态  
2.时间戳请求和回答：用于时间测量和时钟同步

##### traceroute（ICMP应用） #####
用于追踪一个分组从源点到终点所经过的路径。

##### Ping（ICMP应用） #####
主要用于测试主机之间的连通性

### RARP逆地址解析协议 ###
具有本地磁盘的系统引导时，一般是从磁盘上的配置文件中读取IP地址。   
对应于ARP，RARP请求以广播式传送，RARP应答一般是单播传送的。

### 内部网关协议IGP ###
在一个自治系统内部使用的路由选择协议，主要分为RIP和OSPF协议。  
>* RIP协议适用于小型互联网  
>* OSPF协议适用于大型互联网

### 外部网关协议BGP ###
IPv6支持无连接。 







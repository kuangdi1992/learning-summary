- 负载均衡
  - DNS：为同一个主机名配置多个映射，可采用轮训或随机。弊端：如果一台机器down机，则出现访问失败。
  - 负载均衡器：性能好，价格高，硬件负载均衡。
  - 反向代理：nginx，通过响应时间进行负载均衡。
  - CDN:内容分发网络，主要是存储静态文件，将CND节点分布在各个地区，根据用户请求地区，分配CDN服务器。
  
- TCP和UDP的区别
  - TCP面向连接，UDP是无连接
  - TCP提供可靠的数据传输（无差错，无丢失，有序），UDP穿透性抢（尽最大努力交付），不可靠传输
  - TCP要求系统资源较多，UDP较少
  - UDP具有较好的实时性，工作效率比TCP高
  - TCP连接只能是点到点的;UDP支持一对一，一对多，多对一和多对多的交互通信
- 长连接和短连接
  - 长连接：建立连接后一直保持连接
  - 短连接：建立连接传完数据后立马断开连接
- OSI,TCP/IP 体系结构
  - OSI分层 （7层）：物理层、数据链路层、网络层、传输层、会话层、表示层、应用层 
  - TCP/IP分层（4层）：网络接口层、 网际层、运输层、 应用层
  - 每一层的协议如下：
     - 物理层：RJ45、CLOCK、IEEE802.3 （中继器，集线器）
     - 数据链路：PPP、FR、HDLC、VLAN、MAC （网桥，交换机）
     - 网络层：IP、ICMP、ARP、RARP、OSPF、IPX、RIP、IGRP、 （路由器）
     - 传输层：TCP、UDP、SPX
     - 会话层：NFS、SQL、NETBIOS、RPC
     - 表示层：JPEG、MPEG、ASII
     - 应用层：FTP、DNS、Telnet、SMTP、HTTP、WWW、NFS
  - 每一层的作用如下：
    - 物理层：通过媒介传输比特,确定机械及电气规范（比特Bit）
    - 数据链路层：将比特组装成帧和点到点的传递（帧Frame）
    - 网络层：负责数据包从源到宿的传递和网际互连（包PackeT）
    - 传输层：提供端到端的可靠报文传递和错误恢复（段Segment）
    - 会话层：建立、管理和终止会话（会话协议数据单元SPDU）
    - 表示层：对数据进行翻译、加密和压缩（表示协议数据单元PPDU）
    - 应用层：允许访问OSI环境的手段（应用协议数据单元APDU）
  - 协议介绍
    - ARP地址解析协议，转换IP地址到MAC地址 
    - NAT协议：网络地址转换属接入广域网(WAN)技术，是一种将私有（保留）地址转化为合法IP地址的转换技术
    - DHCP协议：一个局域网的网络协议，使用UDP协议工作，用途：给内部网络或网络服务供应商自动分配IP地址，给用户或者内部网络管理员作为对所有计算机作中央管理的手段
- TCP怎么保证错误重传
  - 接收方收到错误的分组，就直接丢弃，而不做任何操作
  - 发送方在规定的时间（比平均往返时延大一些）没有收到分组的确认分组，就会自动重传
  - 分组编了序号
- UDP模拟TCP
  - TCP协议将需要发送的数据分割成数据块。数据块大小是通过MSS最大报文段长度（maximum segment size）来控制的，这种机制是一种协商机制，MSS规定了传往接收方的最大数据块的大小。MSS通过SYN报文协商的，若接收方不接受来自另一方的MSS值，则MSS就定为一个固定值。MSS值越大，网络的利用率越高。
  - 重传。设置定时器，等待确认包。
  - 对首部和数据进行校验。
  - TCP对收到的数据进行排序，然后交给应用层。
  - TCP的接收端丢弃重复的数据。
  - 流量控制。（通过每一端声明的窗口大小来提供的）
 - UDP协议，可以发送的最大的字段多大？
   - 2^16 - 20 -8 = 64k
 - TCP time_wait状态
   - time_wait状态是四次挥手中server向client发送FIN终止连接后进入的状态。
   - 可靠的终止连接，当client发给server的ack丢失，server再次发送fin文段，client必须处于可接受状态。
   - 等待时间是2MSL（报文最大生存时间）
 - ARP是地址解析协议，简单语言解释一下工作原理？
   -  1：首先，每个主机都会在自己的ARP缓冲区中建立一个ARP列表，以表示IP地址和MAC地址之间的对应关系。
   -  2：当源主机要发送数据时，首先检查ARP列表中是否有对应IP地址的目的主机的MAC地址，如果有，则直接发送数据，如果没有，就向本网段的所有主机发送ARP数据包，该数据包包括的内容有：源主机 IP地址，源主机MAC地址，目的主机的IP 地址。
   -  3：当本网络的所有主机收到该ARP数据包时，首先检查数据包中的IP地址是否是自己的IP地址，如果不是，则忽略该数据包，如果是，则首先从数据包中取出 源主机的IP和MAC地址写入到ARP列表中，如果已经存在，则覆盖，然后将自己的MAC地址写入ARP响应包中，告诉源主机自己是它想要找的MAC地址。
   -  4：源主机收到ARP响应包后。将目的主机的IP和MAC地址写入ARP列表，并利用此信息发送数据。如果源主机一直没有收到ARP响应数据包，表示ARP查询失败
   -  广播发送ARP请求，单播发送ARP响应。
 - DNS域名系统，简单描述其工作原理。
   - 当DNS客户机需要在程序中使用名称时，它会查询DNS服务器来解析该名称。客户机发送的每条查询信息包括三条信息：包括：指定的DNS域名，指定的查询类型，DNS域名的指定类别。基于UDP服务，端口53.该应用一般不直接为用户使用，而是为其他应用服务，如HTTP，SMTP等在其中需要完成主机名到IP地址的转换。
 - 为什么采用三次握手，若采用二次握手可以吗？
   - ==采用三次握手是为了防止失效的连接请求报文段突然又传送到主机B，因而产生错误==。失效的连接请求报文段是指：主机A发出的连接请求没有收到主机B的确认
   - 于是经过一段时间后，主机A又重新向主机B发送连接请求，且建立成功，顺序完成数据传输。考虑这样一种特殊情况，主机A第一次发送的连接请求并没有丢失，而是因为网络节点导致延迟达到主机B，主机B以为是主机A又发起的新连接，于是主机B同意连接，并向主机A发回确认，但是此时主机A根本不会理会，主机B就一直在等待主机A发送数据，导致主机B的资源浪费。
 - TCP相关知识
   - TCP连接提供了全双工服务，点对点的（所以不是多播的）
 - 从浏览器中输入url地址到浏览器中显示网页内容的过程分析。
   - 输入url地址，请求DNS服务器，DNS服务器将域名解析成IP地址
   - 通过IP地址找到IP对应的服务器后，要求建立TCP连接
   - 浏览器发送完HTTP请求包后，服务器接收到请求包之后才开始处理请求包
   - 在服务器收到请求后，服务器调用自身服务，返回HTTP响应包
   - 客户端收到来自服务器的响应后开始渲染这个响应包的主体，等收到全部内容后断开与该服务器之间的TCP连接。
 - HTTP协议
   - HTTP协议是无状态的，无连接的
   - 超文本传输协议，主要负责web server和web浏览器之间的通讯，HTTP协议把web浏览器的请求发送到一个web服务器，并把网页内容从web服务器返回到浏览器。
   - 常用请求包括get和post两种。
 - HTTP是长连接还是短连接？
   - 在HTTP/1.0中，默认使用的是短连接。服务器和浏览器每进行一次HTTP操作，就建立一次连接，但任务结束就中断连接。
   - 从HTTP/1.1起，默认使用长连接，用以保存连接特性。
 - 无状态
   - 1.协议对于事务处理没有记忆能力
   - 2.对同一个url请求没有上下文关系
   - 3.每次的请求都是独立的，它的执行情况和结果与前面的请求和之后的请求是无直接关系的，它不会受前面的请求应答情况直接影响，也不会直接影响后面的请求应答情况
   - 4.服务器中没有保存客户端的状态，客户端必须每次带上自己的状态去请求服务器
   - HTTP协议中的无状态是指：客户端和服务器在某次会话中产生的数据，这些数据不会被保留。
   - 怎么维持状态呢？通过增加cookie和session机制，现在的网络请求其实是有状态的
 - cookie和session的区别
   -  由于HTTP协议是无状态的协议，所以服务端需要记录用户的状态时，就需要用某种机制来识具体的用户，这个机制就是Session.
   -  Session是在服务端保存的一个数据结构，用来跟踪用户的状态，这个数据可以保存在集群、数据库、文件中；是一个抽象概念
   -  Cookie是客户端保存用户信息的一种机制，用来记录用户的一些信息，也是实现Session的一种方式。是一个实际存在的东西
   -  session 默认被存在在服务器的一个文件里（不是内存）
   -  session 的运行依赖 session id，而 session id 是存在 cookie 中的，也就是说，如果浏览器禁用了 cookie ，同时 session 也会失效（但是可以通过其它方式实现，比如在 url 中传递 session_id）
   -  session 可以放在 文件、数据库、或内存中都可以。
   -  用户验证这种场合一般会用 session





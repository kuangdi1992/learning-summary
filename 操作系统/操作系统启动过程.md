# 操作系统启动过程

## 计算机执行的第一条指令

问题：打开电源后，计算机执行的第一句指令是什么？

对于x86的PC机，刚上电时，有一部分是固化的，基本过程如下：

1. x86 PC刚开机时CPU处于实模式
2. 开机时，CS=0xFFFF；IP=0x0000
3. 寻址0xFFFF0（ROM BIOS映射区---固化在硬件上）
4. 检查RAM、键盘、显示器、软硬磁盘
5. 将磁盘0磁道0扇区（引导扇区）读入0x7c00处，也就是将操作系统引导扇区从磁盘中读入到0x7c00处
6. 设置CS=0x07c0，IP=0x0000，通过寻址，后面将从引导扇区开始执行，也就是从0x7c00处开始执行。

实模式下的寻址CS：IP----->CS左移4位+IP，例如CS=0xFFFF；IP=0x0000则CS左移4位为0xFFFF0，再加上IP，为0xFFFF0，也就是ROM上的BIOS映射区。

![image-20210816221601955](https://github.com/kuangdi1992/Interview-knowledge/blob/master/Picture/linux/image-20210816221601955.png)




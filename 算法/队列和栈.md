# 介绍

队列和栈是操作受限的数据结构。队列和栈的底层就是数组和链表封装的。

从算法题的角度来看，队列和栈的题目并不是很多，队列主要用在BFS算法，栈主要用在和括号相关的问题。

![image-20220806144153903](C:\Users\kd\AppData\Roaming\Typora\typora-user-images\image-20220806144153903.png)

# 队列

## 队列概念

只允许在一端插入数据操作，在另一端进行删除数据操作的特殊线性表；

进行插入操作的一端称为队尾（入队列），进行删除操作的一端称为队头（出队列）；

队列具有<font color=red>先进先出（FIFO）</font>的特性。



## 基本操作

- 入队enqueue()，放一个数据到尾部
- 出队dequeue()，从头部取一个元素

## 队列的应用场景

作为一种非常基础的数据结构，队列的应用也非常广泛，特别是一些具有某些额外特性的队列，比如<font color=red>循环队列、阻塞队列、并发队列</font>。

它们在很多偏底层系统、框架、中间件的开发中，起着关键性的作用。比如高性能队列 Disruptor、Linux 环形缓存，都用到了循环并发队列；

Java concurrent 并发包利用 ArrayBlockingQueue 来实现公平锁等。

## 顺序队列

用数组实现的队列——顺序队列。

## Leetcode括号相关题目解析

### Leetcode20 有效的括号

### 题目

难度：简单

给定一个只包括 '('，')'，'{'，'}'，'['，']' 的字符串 s ，判断字符串是否有效。

有效字符串需满足：

左括号必须用相同类型的右括号闭合。
左括号必须以正确的顺序闭合。

### 示例

```
输入：s = "()[]{}"
输出：true

输入：s = "([)]"
输出：false
```

### 思路

在这道题中，用一个栈，遇到左括号的时候就入栈，遇到右括号的时候就去取栈顶元素来进行比较，如果相等则匹配成功。最后查看栈是否为空，如果是空则表示全部匹配上，返回true。

### 代码

```java
package com.company.stack;

import java.util.Stack;

public class leetcode20 {
    public boolean isValid(String s) {
        Stack<Character> stack = new Stack<>();

        int length = s.length();

        for (int i = 0; i < length; i++) {
            char ans = s.charAt(i);
            if (ans == '(' || ans == '[' || ans == '{') {
                stack.push(ans);
            } else {
                if (!stack.empty() && leftOf(ans) == stack.peek()) {
                    stack.pop();
                } else {
                    return false;
                }
            }
        }

        if (stack.empty()) {
            return true;
        } else {
            return false;
        }
    }

    public char leftOf(char c) {
        if (c == '}') {
            return '{';
        } else if (c == ']') {
            return '[';
        } else {
            return '(';
        }
    }

    public static void main(String[] args) {
        leetcode20 le = new leetcode20();
        String string = "([(]";
        System.out.println(le.isValid(string));
    }

}
```

## Leetcode 921. 使括号有效的最少添加

### 题目

只有满足下面几点之一，括号字符串才是有效的：

- 它是一个空字符串，或者

- 它可以被写成 AB （A 与 B 连接）, 其中 A 和 B 都是有效字符串，或者

- 它可以被写作 (A)，其中 A 是有效字符串。

  给定一个括号字符串 s ，移动N次，你就可以在字符串的任何位置插入一个括号。

例如，如果 s = "()))" ，你可以插入一个开始括号为 "(()))" 或结束括号为 "())))" 。
返回 为使结果字符串 s 有效而必须添加的最少括号数。

### 示例

```
输入：s = "())"
输出：1
```

### 思路

1、括号字符串有效必须是一个左括号，一个右括号

2、用两个变量来分别表示需要的左括号和右括号的数量

### 代码

```java
package com.company.stack;

public class leetcode921 {
    public int minAddToMakeValid(String s) {
        int left = 0;
        int right = 0;
        int length = s.length();

        for (int i = 0; i < length; i++) {
            char c = s.charAt(i);
            if (c == '(') {
                right++;
            } else {
                right--;
                if (right == -1) {
                    right = 0;
                    left++;
                }
            }
        }
        return left+right;
    }

    public static void main(String[] args) {
        leetcode921 le = new leetcode921();
        String s = "())";
        System.out.println(le.minAddToMakeValid(s));
    }
}

```

【注】这道题没有使用栈，因为只需要计算出需要添加多少个括号。
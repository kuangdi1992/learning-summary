# 滑动窗口算法

## 介绍

滑动窗口是一种比较难掌握的双指针算法。

- **滑动：**窗口是移动的，也就是移动是按照一定方向来的。
- **窗口：**窗口大小并不是固定的，可以不断扩容直到满足一定的条件；也可以不断缩小，直到找到一个满足条件的最小窗口；当然也可以是固定大小。

## 基本思路

1. 在字符串 S 中使用双指针中的**左右指针技巧**，初始化 left = right = 0，**把索引闭区间 [left, right] 称为一个「窗口」**。
2. 先不断地增加 right 指针扩大窗口 [left, right]，直到窗口中的字符串符合要求（包含了 T 中的所有字符）。
3. 此时，停止增加 right，转而不断增加 left 指针缩小窗口 [left, right]，直到窗口中的字符串不再符合要求（不包含 T 中的所有字符了）。同时，每次增加 left，都要更新一轮结果。
4. 重复第 2 和第 3 步，直到 right 到达字符串 S 的尽头。

## 基本框架

```java
int left = 0;
int right = 0;
while(right < s.size()){
	//增大窗口
	window.add(s[right]);
	right++;
    /*进行窗口内数据的一系列更新*/
	
    //判断左侧窗口是否要收缩
	while(window needs shrink){
		//缩小窗口
		window.remove(s[left]);
		left++;
	}
}
```

## 题目

#### leetcode3 [无重复字符的最长子串](https://leetcode-cn.com/problems/longest-substring-without-repeating-characters/)

给定一个字符串 `s` ，请你找出其中不含有重复字符的 **最长子串** 的长度。

```java
输入: s = "abcabcbb"
输出: 3 
解释: 因为无重复字符的最长子串是 "abc"，所以其长度为 3。
```

代码如下：

```java
public int lengthOfLongestSubstring(String s) {
        HashMap<Character,Integer> window = new HashMap<>();
        int left = 0;
        int right = 0;
        int res = 0;

        while(right < s.length()){
            char c = s.charAt(right);
            right++;

            window.put(c,window.getOrDefault(c,0) + 1);
            while(window.get(c) > 1){
                char d = s.charAt(left);
                left++;
                window.put(d,window.getOrDefault(d,0) - 1);
            }
            res = Math.max(res,right - left);
        }
        return res;
    }
```

从上面的代码分析，如果⼀个字符进⼊窗⼝，应该增加 window 计数器；如果⼀个字符将移出窗⼝的时候，应该减少 window 计
数器；当 res 最大的时候更新最终结果。  

leetcode76 
# 二叉搜索树

### 介绍

二叉搜索树——Binary Search Tree，BST。

### 定义

二叉搜索树是一种节点值之间具有一定数量级次序的二叉树，对于树中每个节点：

- 若其左子树存在，则其左子树中每个节点的值都不大于该节点值；
- 若其右子树存在，则其右子树中每个节点的值都不小于该节点值。

### 查询复杂度

观察二叉搜索树结构可知，查询每一个节点需要的比较次数为节点深度加一。在二叉搜索树节点个数确定的情况下，整棵树的高度越低，节点的查询复杂度越低。

### 构造复杂度

二叉搜索树的构造过程，也就是**将节点不断插入到树中适当位置的过程**。该操作过程，与查询节点元素的操作基本相同，不同之处在于：

- 查询节点过程是，比较元素值是否相等，相等则返回，不相等则判断大小情况，迭代查询左、右子树，直到找到相等的元素，或子节点为空，返回节点不存在
- 插入节点的过程是，比较元素值是否相等，相等则返回，表示已存在，不相等则判断大小情况，迭代查询左、右子树，直到找到相等的元素，或子节点为空，则将节点插入该空节点位置。

由此可知，单个节点的构造复杂度和查询复杂度相同，为 ![O(log_2 n)](https://math.jianshu.com/math?formula=O(log_2%20n))~![O(n)](https://math.jianshu.com/math?formula=O(n))。

### 性能分析

由以上查询复杂度、构造复杂度和删除复杂度的分析可知，三种操作的时间复杂度皆为 ![O(log_2 n)](https://math.jianshu.com/math?formula=O(log_2%20n))~![O(n)](https://math.jianshu.com/math?formula=O(n))。下面分析线性结构的三种操作复杂度，以二分法为例：

- 查询复杂度，时间复杂度为 ![O(log_2 n)](https://math.jianshu.com/math?formula=O(log_2%20n))，优于二叉搜索树；
- 元素的插入操作包括两个步骤，查询和插入。查询的复杂度已知，插入后调整元素位置的复杂度为 ![O(n)](https://math.jianshu.com/math?formula=O(n))，即单个元素的构造复杂度为：![O(n)](https://math.jianshu.com/math?formula=O(n))
- 删除操作也包括两个步骤，查询和删除，查询的复杂度已知，删除后调整元素位置的复杂度为 ![O(n)](https://math.jianshu.com/math?formula=O(n))，即单个元素的删除复杂度为：![O(n)](https://math.jianshu.com/math?formula=O(n))

由此可知，二叉搜索树相对于线性结构，在构造复杂度和删除复杂度方面占优；在查询复杂度方面，二叉搜索树可能存在类似于斜树，每层上只有一个节点的情况，该情况下查询复杂度不占优势。



